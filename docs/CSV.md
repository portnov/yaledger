# Поддержка формата CSV

YaLedger может читать записи о транзакциях (проводках) из файлов формата
CSV. Такие файлы обычно могут выгружать системы ДБО (телебанки).

Т.к. конкретный формат записей у каждой системы свой, нужный формат
описывается в отдельном конфиге, по умолчанию используется
`~/.config/yaledger/csv.yaml`.

Конфиг содержит следующие параметры:

-   encoding. Кодировка файлов, например “KOI8R” или “CP1251”. Если
    параметр не задан, то считается, что файлы в UTF–8.
-   separator. Разделитель столбцов. По умолчанию ’,’ (запятая), также
    может встречаться “;”, “\\\\t”, “|”.
-   dateformat. Формат даты/времени. По умолчанию “YYYY/MM/DD”. Может
    быть, например, “DD/MM/YYYY” или “DD.MM”.
-   Остальные параметры задают, какие поля транзакции из каких столбцов
    CSV-файла брать. Эти параметры общие для CSV и HTML. Описание см.
    [Tables][].

Пример конфига:

~~~ { .yaml }
separator: ';'
dateformat: "DD/MM/YYYY"
date:
  field: 1
currency: "р"
amount:
  field: 4
account: "карточка"
description:
  field: 3
account2:
  field: 3
  rules:
    магинфо: "ИНТЕРНЕТ"
    премия: "премия"
    зарплата: "Заработная плата"
    аванс: "Аванс"
    наличные: "Выдача наличных"
    банковские_комиссии: "(Комиссия)|(Плата за .*обслуживание)"
    "интернет/МТС": "МТС модем"
~~~

[Tables]: Tables.md
