# Поддержка формата HTML

YaLedger может читать транзакции из таблиц в файлах формата HTML. Такие
таблицы порождаются некоторыми телебанками. Т.к. конкретный формат
записей у каждой системы свой, нужный формат описывается в отдельном
конфиге, по умолчанию используется \~/.config/yaledger/html.yaml.

Конфиг содержит следующие параметры:

-   encoding. Кодировка файлов, например “KOI8R” или “CP1251”. Если
    параметр не задан, то считается, что файлы в UTF–8.
-   selector. CSS-селектор для поиска нужной таблицы в файле. По
    умолчанию — “table”.
-   Остальные параметры задают, какие поля транзакции из каких столбцов
    таблицы брать. Эти параметры общие для CSV и HTML. Описание см.
    [Tables][].

Пример конфига:

~~~ { .yaml }
selector: 'table.MsoNormalTable'
encoding: CP1251
dateformat: "DD/MM/YYYY"
currency: "р"
# Использовать только строки, в которых в первом столбце — дата, а в четвёртом — число
filter:
  - field: 1
    regexp: "\\d+\\/\\d+\\/\\d+"
  - field: 4
    regexp: "\\d+"
date:
  field: 1
  regexp: "\\d+\\/\\d+\\/\\d+"
amount:
  field: 4
account: обед
description:
  field: 2
  optional: true
~~~

[Tables]: Tables.md
